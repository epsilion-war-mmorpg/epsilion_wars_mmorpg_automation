from epsilion_wars_mmorpg_automation.game.parsers import get_resource_counters


def test_get_resource_counters():
    payload = """๐ฎะญััะตะฝัะธั ะััะณะธ - 2ัั
ะญััะตะฝัะธั ะฒ ะบะพัะพัะพะน ัะพะดะตัะถะธััั ัะฝะตัะณะธั ัะฝะตะถะฝะพะน ะดะตะฒั.

๐ฎะญััะตะฝัะธั ะะตัะตะปะธ - 2ัั
ะญััะตะฝัะธั ะฒ ะบะพัะพัะพะน ัะพะดะตัะถะธััั ัะฝะตัะณะธั ัะฝะตะถะฝะพะน ะดะตะฒั.

๐ฎะญััะตะฝัะธั ะะฐัะถะฐะฝั - 1ัั
ะญััะตะฝัะธั ะฒ ะบะพัะพัะพะน ัะพะดะตัะถะธััั ัะฝะตัะณะธั ัะฝะตะถะฝะพะน ะดะตะฒั.

๐ฎะญััะตะฝัะธั ะััะณะธ - 1ัั
ะญััะตะฝัะธั ะฒ ะบะพัะพัะพะน ัะพะดะตัะถะธััั ัะฝะตัะณะธั ัะฝะตะถะฝะพะน ะดะตะฒั.

๐ะะตัะตะฟั [I]: ๐ก ะญะปะธะบัะธั ััะธะปะตะฝะธั - 25ัั
ะะฝััััะบัะธั ะฟะพ ัะพะทะดะฐะฝะธั ะฒะตัะธ.

ะกััะฐะฝะธัะฐ (1/23)"""

    result = get_resource_counters(payload)

    assert len(result.keys()) == 5
    assert '๐ะะตัะตะฟั [I]: ๐ก ะญะปะธะบัะธั ััะธะปะตะฝะธั' in result
    assert result['๐ะะตัะตะฟั [I]: ๐ก ะญะปะธะบัะธั ััะธะปะตะฝะธั'] == 25
    assert '๐ฎะญััะตะฝัะธั ะััะณะธ' in result
    assert result['๐ฎะญััะตะฝัะธั ะััะณะธ'] == 1
